# run_pork_app.py 使用说明书规格说明

## 概述
为 `run_pork_app.py` 文件创建一份完整的使用说明书文档,帮助用户理解该应用的功能、依赖、启动方式和整体架构。

## 范围
**新建文件:**
- `/Users/admin/Documents/testQoder/Qoder2/run_pork_app说明书.md` - 创建完整的使用说明书

**参考文件:**
- `run_pork_app.py` - 应用启动入口
- `pork_price_app/data_manager.py` - 数据管理模块
- `pork_price_app/app.py` - Flask应用主模块
- `pork_price_app/chart_generator.py` - 图表生成模块
- `requirements.txt` - 依赖列表

## 设计方法
说明书将采用Markdown格式,包含以下核心部分:
1. **应用简介** - 说明应用用途和核心功能
2. **环境要求** - Python版本和依赖库
3. **安装步骤** - 如何配置运行环境
4. **启动方式** - 如何运行应用
5. **功能说明** - 详细介绍各个模块的作用
6. **项目结构** - 目录和文件组织
7. **数据说明** - 数据格式和生成逻辑
8. **常见问题** - 可能遇到的问题及解决方案

## 实施计划

### 步骤1: 创建说明书文档
- 在项目根目录创建 `run_pork_app说明书.md`
- 包含文件顶部的"始终生效"标记(遵循项目规范)

### 步骤2: 编写应用简介部分
- 描述应用的核心功能:展示国内猪肉价格走势可视化
- 说明应用使用的技术栈:Flask + Plotly

### 步骤3: 编写环境要求部分
- Python版本要求(基于Flask 3.0.0,建议Python 3.8+)
- 列出依赖库:Flask 3.0.0, plotly 5.18.0, pandas 2.1.4

### 步骤4: 编写安装步骤
- 克隆/下载项目说明
- 安装依赖命令:`pip install -r requirements.txt`

### 步骤5: 编写启动方式
- 启动命令:`python run_pork_app.py`
- 访问地址:`http://localhost:5000`
- 停止服务:Ctrl+C

### 步骤6: 编写功能说明
- **run_pork_app.py**: 应用启动入口,打印启动信息,运行Flask服务
- **data_manager.py**: 数据管理,包括生成模拟数据、保存/加载JSON、数据验证
- **app.py**: Flask路由,渲染页面
- **chart_generator.py**: 使用Plotly生成交互式价格曲线图

### 步骤7: 编写项目结构
```
Qoder2/
├── run_pork_app.py          # 应用启动入口
├── requirements.txt          # 依赖列表
└── pork_price_app/
    ├── __init__.py
    ├── app.py               # Flask应用主模块
    ├── data_manager.py      # 数据管理模块
    ├── chart_generator.py   # 图表生成模块
    ├── data/
    │   └── pork_prices.json # 价格数据文件
    ├── templates/
    │   └── index.html       # 前端页面模板
    └── static/              # CSS样式文件
```

### 步骤8: 编写数据说明
- 数据格式:JSON格式,包含metadata和data数组
- 数据时间范围:2023-01-01至2024-12-31
- 价格生成逻辑:基础价格22元/公斤 + 季节因素 + 周期因素 + 随机噪声
- 价格范围:18-28元/公斤

### 步骤9: 编写常见问题部分
- 端口已被占用如何处理
- 数据文件不存在时的处理(自动生成)
- 依赖安装失败的解决方案

### 步骤10: 添加会话结束标记
- 在文档末尾遵循规则添加"天下为公"

## 关键文件

### /Users/admin/Documents/testQoder/Qoder2/run_pork_app说明书.md (新建)
**创建内容:**
- 完整的Markdown格式说明书
- 包含上述所有章节
- 遵循项目规范(文件顶部添加"始终生效")

## 注意事项
1. **项目规范遵循**:
   - 文件顶部需添加"始终生效"注释
   - 会话结束时输出"天下为公"

2. **文档质量**:
   - 确保说明书结构清晰、易于理解
   - 提供具体的命令示例
   - 包含足够的细节让新用户能快速上手

3. **技术准确性**:
   - 基于实际代码内容编写说明
   - 确保依赖版本信息准确
   - 描述的功能与代码实现一致
