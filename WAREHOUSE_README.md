# 仓库管理系统

一个功能完整的仓库管理系统，使用Python开发，支持商品管理、库存管理、预警系统等核心功能。

## 🚀 功能特性

### 📦 商品管理
- ✅ 添加、修改、删除商品信息
- ✅ 商品分类管理
- ✅ 商品价格和单位管理
- ✅ 商品信息查询和搜索

### 📋 库存管理
- ✅ 商品入库操作（支持批次号和过期日期）
- ✅ 商品出库操作（先进先出原则）
- ✅ 库存调拨（不同位置间转移）
- ✅ 库存盘点和调整
- ✅ 实时库存查询

### 🏪 仓库管理
- ✅ 多仓库支持
- ✅ 仓库位置管理
- ✅ 仓库容量和管理员设置

### ⚠️ 预警系统
- ✅ 低库存自动预警
- ✅ 商品过期预警
- ✅ 零库存预警
- ✅ 即将过期商品提醒

### 📊 报表统计
- ✅ 库存汇总报表
- ✅ 交易记录查询
- ✅ 商品分类统计
- ✅ 库存价值统计

### 💾 数据管理
- ✅ 自动数据持久化（JSON格式）
- ✅ 数据备份和恢复
- ✅ CSV格式数据导出
- ✅ 数据文件管理

## 📁 项目结构

```
warehouse_system/
├── warehouse_models.py       # 核心数据模型
├── warehouse_manager.py      # 业务逻辑层
├── warehouse_persistence.py  # 数据持久化
├── warehouse_cli.py         # 命令行界面
├── warehouse_system.py      # 主程序入口
├── test_warehouse_system.py # 测试用例
├── README.md               # 项目说明
└── warehouse_data/         # 数据存储目录
    ├── products.json       # 商品数据
    ├── stock_records.json  # 库存记录
    ├── transactions.json   # 交易记录
    ├── warehouses.json     # 仓库信息
    ├── alerts.json        # 预警信息
    ├── settings.json      # 系统设置
    └── backups/          # 数据备份
```

## 🔧 安装和运行

### 系统要求
- Python 3.6+
- 无需额外依赖，使用Python标准库

### 快速开始

1. **克隆或下载项目文件**

2. **运行主程序**
   ```bash
   python warehouse_system.py
   ```

3. **选择启动选项**
   - 选项1: 图形界面（开发中）
   - 选项2: 命令行界面
   - 选项3: 运行系统测试
   - 选项4: 创建演示数据
   - 选项5: 查看系统状态

### 创建演示数据

首次运行建议先创建演示数据：

1. 运行主程序
2. 选择选项4 "创建演示数据"
3. 系统将自动创建：
   - 8种不同类型的商品
   - 2个仓库和多个存储位置
   - 库存记录和交易历史
   - 预警阈值设置

## 🧪 运行测试

系统包含完整的单元测试：

```bash
python test_warehouse_system.py
```

测试覆盖：
- ✅ 商品管理功能测试
- ✅ 库存操作测试
- ✅ 数据持久化测试
- ✅ 数据模型测试
- ✅ 预警系统测试

## 📝 使用说明

### 商品管理
1. 进入系统后选择"商品管理"
2. 可以添加新商品，设置商品ID、名称、分类、价格等信息
3. 支持修改已有商品信息
4. 只有零库存的商品才能被删除

### 库存操作
1. **入库**: 选择商品ID，输入数量、存储位置
2. **出库**: 系统自动按先进先出原则出库
3. **调拨**: 在不同存储位置间转移库存
4. **盘点**: 调整实际库存与系统记录的差异

### 预警管理
- 系统会自动检查低库存和过期商品
- 可以为每个商品设置低库存预警阈值
- 预警信息会在主界面显示

### 数据管理
- 系统自动保存所有操作数据
- 可以手动创建数据备份
- 支持从备份恢复数据
- 可以导出数据为CSV格式

## 🏗️ 系统架构

### 核心组件

1. **数据模型层** (`warehouse_models.py`)
   - `Product`: 商品信息模型
   - `StockRecord`: 库存记录模型
   - `TransactionRecord`: 交易记录模型
   - `Warehouse`: 仓库信息模型
   - `StockAlert`: 预警信息模型

2. **业务逻辑层** (`warehouse_manager.py`)
   - `WarehouseManager`: 核心业务逻辑管理器
   - 实现所有仓库操作功能
   - 预警检查和报表生成

3. **数据持久化层** (`warehouse_persistence.py`)
   - `DataPersistence`: 数据持久化管理器
   - JSON格式数据存储
   - 备份恢复功能
   - CSV导出功能

4. **用户界面层** (`warehouse_cli.py`)
   - `WarehouseCLI`: 命令行用户界面
   - 友好的交互体验
   - 完整的功能菜单

## 🔍 关键特性

### 数据完整性
- 严格的数据验证
- 事务性操作保证
- 自动数据一致性检查

### 先进先出 (FIFO)
- 出库操作自动按入库时间排序
- 确保商品流转的合理性
- 减少过期商品风险

### 预警系统
- 实时库存监控
- 自动过期检查
- 可配置预警阈值

### 数据安全
- 自动备份机制
- 数据恢复功能
- 操作记录追踪

## 🛠️ 扩展开发

### 添加新功能
1. 在 `warehouse_models.py` 中定义数据模型
2. 在 `warehouse_manager.py` 中实现业务逻辑
3. 在 `warehouse_cli.py` 中添加用户界面
4. 在 `test_warehouse_system.py` 中添加测试用例

### 数据库支持
系统当前使用JSON文件存储，可以扩展支持数据库：
- SQLite (轻量级应用)
- MySQL/PostgreSQL (企业级应用)
- MongoDB (文档型数据库)

### Web界面
可以基于Flask/Django开发Web界面：
- RESTful API接口
- 响应式Web界面
- 实时数据更新

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目！

## 📞 支持

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者

---

**仓库管理系统 v1.0** - 让仓库管理更简单、更高效！