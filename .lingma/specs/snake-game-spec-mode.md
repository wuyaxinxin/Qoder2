# 贪吃蛇游戏实现规范

## 概述
基于HTML5 Canvas + 原生JavaScript创建一个具有现代美学设计的贪吃蛇游戏，包含经典游戏机制、动画效果、响应式设计和美观的用户界面。

## 技术选型
- **渲染**: HTML5 Canvas
- **语言**: 原生JavaScript (ES6+) 
- **架构**: 面向对象 + 游戏循环模式
- **样式**: CSS3 (现代化设计，遵循美学规范)
- **项目位置**: `/Users/admin/Documents/testQoder/Qoder2/snake-game/` (独立目录)

## 文件结构
```
snake-game/
├── index.html              # 游戏主页面
├── css/
│   └── game.css            # 现代化游戏样式，遵循美学规范
└── js/
    ├── main.js             # 游戏入口和初始化
    ├── config.js           # 游戏配置常量
    ├── Game.js             # 游戏引擎核心类
    ├── entities/
    │   ├── Snake.js        # 蛇类，包含移动、生长逻辑
    │   └── Food.js         # 食物类
    └── systems/
        ├── GridSystem.js   # 网格系统
        └── CollisionSystem.js # 碰撞检测系统
```

## 设计美学方向
根据frontend-design技能规范，采用以下美学设计：
- **主题风格**: 现代极简主义，带柔和渐变和微妙动效
- **配色方案**: 深色主题，使用深蓝/黑色背景，亮绿色蛇身，霓虹粉色食物
- **字体选择**: 使用独特显示字体，避免通用字体
- **动效设计**: 流畅的蛇身跟随效果，食物收集粒子效果
- **空间布局**: 不对称设计元素，增加视觉层次感

## 核心功能

### 1. 游戏引擎
- 基于`requestAnimationFrame`的游戏循环
- 可调节游戏速度（难度等级）
- Canvas渲染管理，支持高清显示

### 2. 蛇控制系统
- 键盘方向键控制蛇的移动
- 平滑转向动画，蛇头与身体协调移动
- 碰撞检测（墙壁、自身）

### 3. 食物系统
- 随机位置生成食物
- 食物收集后蛇身增长
- 计分系统和最高分记录

### 4. 用户界面
- 开始/暂停/重玩按钮
- 当前分数和最高分显示
- 游戏结束提示和重玩选项
- 响应式设计适配不同屏幕尺寸

### 5. 游戏状态管理
- 开始状态：显示标题和说明
- 运行状态：正常游戏
- 暂停状态：暂停游戏
- 结束状态：显示最终分数和重玩选项

## 实现步骤

### 第1步：基础框架搭建
- [ ] 创建`index.html`，设置Canvas元素(800x600或响应式)
- [ ] 创建`config.js`定义游戏常量（网格大小、速度、颜色等）
- [ ] 实现`Game.js`游戏循环和基本渲染框架
- [ ] 添加CSS样式，实现现代化UI设计

### 第2步：网格系统和UI
- [ ] 实现`GridSystem.js`，管理游戏网格
- [ ] 绘制游戏区域网格和背景
- [ ] 实现分数显示和游戏信息UI
- [ ] 添加控制按钮（开始/暂停/重玩）

### 第3步：蛇实体实现
- [ ] 实现蛇类，包含位置数组和移动逻辑
- [ ] 实现键盘输入处理
- [ ] 添加蛇的移动动画效果
- [ ] 实现蛇的增长机制

### 第4步：食物系统
- [ ] 实现食物类，随机生成位置
- [ ] 实现食物与蛇的交互逻辑
- [ ] 添加食物收集后的视觉反馈效果

### 第5步：碰撞检测
- [ ] 实现`CollisionSystem.js`
- [ ] 边界碰撞检测（墙壁）
- [ ] 自身碰撞检测（蛇咬到自己）

### 第6步：游戏状态和完整功能
- [ ] 实现游戏状态管理（开始、运行、暂停、结束）
- [ ] 添加游戏结束判断和处理
- [ ] 实现分数计算和最高分存储（localStorage）
- [ ] 添加动画效果和音效支持（可选）

## 关键配置参数
```javascript
// 网格配置
GRID_SIZE: 20          // 每个网格的像素大小
GRID_WIDTH: 40         // 网格宽度（单位：格）
GRID_HEIGHT: 30        // 网格高度（单位：格）

// 游戏速度
BASE_SPEED: 150        // 基础移动间隔（毫秒）
SPEED_INCREMENT: 5     // 每级加速值

// 颜色配置（现代美学设计）
BACKGROUND_COLOR: '#0c0c14'
SNAKE_HEAD_COLOR: '#4ade80'
SNAKE_BODY_COLOR: '#22c55e'
FOOD_COLOR: '#ec4899'
GRID_LINE_COLOR: '#1e293b'

// 游戏规则
INITIAL_SNAKE_LENGTH: 3
SCORE_PER_FOOD: 10
```

## 特殊设计亮点
1. **动态蛇身效果**：蛇身跟随头部移动时有轻微延迟，产生自然流动感
2. **粒子效果**：食物被吃掉时产生霓虹色粒子爆炸效果
3. **响应式设计**：自动适应不同屏幕尺寸，移动端友好
4. **平滑动画**：所有运动都采用缓动函数，提供流畅体验
5. **个性化定制**：支持更换主题颜色和蛇的外观

## 验证方式
1. **功能验证**：在浏览器中打开`index.html`
2. **测试流程**：
   - 使用方向键控制蛇移动
   - 收集食物使蛇增长
   - 验证碰撞检测（墙壁和自身）
   - 测试游戏结束和重新开始功能
3. **美学验证**：检查UI是否符合现代化设计规范
4. **性能检查**：确保游戏运行流畅（60 FPS）

## 预期成果
一个具有现代美学设计的贪吃蛇游戏，包含：
- 完整的游戏循环和流畅的动画效果
- 现代化的用户界面，符合前端美学规范
- 响应式设计，支持多种设备
- 完整的游戏机制（移动、生长、碰撞、计分）
- 游戏状态管理和用户体验优化

### Critical Files for Implementation
- snake-game/js/Game.js - 游戏引擎核心逻辑，负责游戏循环和状态管理
- snake-game/js/entities/Snake.js - 蛇的移动、增长和控制逻辑实现
- snake-game/css/game.css - 现代化UI设计，遵循前端美学规范
- snake-game/js/config.js - 游戏配置参数，影响游戏体验和视觉效果
- snake-game/index.html - 游戏主页面结构，连接所有组件